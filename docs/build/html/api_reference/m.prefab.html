

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>m.prefab.js &mdash; M.GRL version zero documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/mgrl.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'version zero',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="M.GRL version zero documentation" href="../index.html" />
    <link rel="up" title="API Reference" href="index.html" />
    <link rel="next" title="m.time.js" href="m.time.html" />
    <link rel="prev" title="m.multipass.js" href="m.multipass.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="m.time.html" title="m.time.js"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="m.multipass.html" title="m.multipass.js"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Contents</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">API Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="m-prefab-js">
<h1>m.prefab.js<a class="headerlink" href="#m-prefab-js" title="Permalink to this headline">¶</a></h1>
<div class="section" id="please-stereocamera">
<h2>please.StereoCamera<a class="headerlink" href="#please-stereocamera" title="Permalink to this headline">¶</a></h2>
<p><em>please.StereoCamera</em> <strong>()</strong></p>
<p>Inherits from please.CameraNode and can be used similarly. This camera
defines two subcameras, accessible from the properties &#8220;left_eye&#8221; and
&#8220;right_eye&#8221;. Their position is determined by this object&#8217;s
&#8220;eye_distance&#8221; property, which should correspond to millimeters
(defaults to 62). The &#8220;unit_conversion&#8221; property is a multiplier value,
and you use it to define what &#8220;millimeters&#8221; means to you.</p>
<p>Ideally, the StereoCamera object should be the object that you orient to
change the viewpoint of both cameras, and that the sub cameras
themselves are what is activated for the purpose of saving color
buffers. A simple pipeline can be constructed from this to</p>
<p>If the StereoCamera&#8217;s &#8220;look_at&#8221; value is set to something other than
[null, null, null], the child CameraNode objects will automatically
attempt to converge on the point. If it is desired that they not
converge, set the StereoCamera&#8217;s &#8220;auto_converge&#8221; parameter to false.
When auto convergance is left on, objects that are past the focal point
will appear to be &#8220;within&#8221; the screen, whereas objects in front of the
focal point will appear to &#8220;pop out&#8221; of the screen. If the focal point
is too close to the camera, you will see a cross eye effect. <strong>Important
accessibility note</strong>, Take care that camera.focal_distance never gets
too low, or you can cause uneccesary eye strain on your viewer and make
your program inaccessible to users with convergence insufficiency.</p>
<p>Further usage:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">camera</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">please</span><span class="p">.</span><span class="nx">StereoCamera</span><span class="p">();</span>

<span class="c1">// ...</span>

<span class="nx">please</span><span class="p">.</span><span class="nx">pipeline</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;vr/left_eye&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">gl</span><span class="p">.</span><span class="nx">clear</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">COLOR_BUFFER_BIT</span> <span class="o">|</span> <span class="nx">gl</span><span class="p">.</span><span class="nx">DEPTH_BUFFER_BIT</span><span class="p">);</span>
    <span class="nx">camera</span><span class="p">.</span><span class="nx">left</span><span class="p">.</span><span class="nx">activate</span><span class="p">();</span>
    <span class="nx">graph</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">as_texture</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span> <span class="mi">1024</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">1024</span><span class="p">});</span>

<span class="nx">please</span><span class="p">.</span><span class="nx">pipeline</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;vr/right_eye&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">gl</span><span class="p">.</span><span class="nx">clear</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">COLOR_BUFFER_BIT</span> <span class="o">|</span> <span class="nx">gl</span><span class="p">.</span><span class="nx">DEPTH_BUFFER_BIT</span><span class="p">);</span>
    <span class="nx">camera</span><span class="p">.</span><span class="nx">right</span><span class="p">.</span><span class="nx">activate</span><span class="p">();</span>
    <span class="nx">graph</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">as_texture</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span> <span class="mi">1024</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">1024</span><span class="p">});</span>

<span class="nx">please</span><span class="p">.</span><span class="nx">pipeline</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;vr/display&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">gl</span><span class="p">.</span><span class="nx">clear</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">COLOR_BUFFER_BIT</span> <span class="o">|</span> <span class="nx">gl</span><span class="p">.</span><span class="nx">DEPTH_BUFFER_BIT</span><span class="p">);</span>
    <span class="nx">prog</span><span class="p">.</span><span class="nx">samplers</span><span class="p">.</span><span class="nx">left_eye</span> <span class="o">=</span> <span class="s2">&quot;vr/left_eye&quot;</span><span class="p">;</span>
    <span class="nx">prog</span><span class="p">.</span><span class="nx">samplers</span><span class="p">.</span><span class="nx">right_eye</span> <span class="o">=</span> <span class="s2">&quot;vr/right_eye&quot;</span><span class="p">;</span>
    <span class="nx">prog</span><span class="p">.</span><span class="nx">vars</span><span class="p">.</span><span class="nx">mode</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">;</span> <span class="c1">// to indicate between color split &amp; other modes</span>
    <span class="nx">please</span><span class="p">.</span><span class="nx">gl</span><span class="p">.</span><span class="nx">splat</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">m.prefab.js</a><ul>
<li><a class="reference internal" href="#please-stereocamera">please.StereoCamera</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="m.multipass.html"
                        title="previous chapter">m.multipass.js</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="m.time.html"
                        title="next chapter">m.time.js</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/api_reference/m.prefab.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="m.time.html" title="m.time.js"
             >next</a> |</li>
        <li class="right" >
          <a href="m.multipass.html" title="m.multipass.js"
             >previous</a> |</li>
        <li><a href="../index.html">Contents</a> &raquo;</li>
          <li><a href="index.html" >API Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>