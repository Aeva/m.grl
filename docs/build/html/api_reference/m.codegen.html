

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>m.codegen.js &mdash; M.GRL version zero documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/mgrl.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'version zero',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="M.GRL version zero documentation" href="../index.html" />
    <link rel="up" title="API Reference" href="index.html" />
    <link rel="next" title="m.compositing.js" href="m.compositing.html" />
    <link rel="prev" title="m.camera.js" href="m.camera.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="m.compositing.html" title="m.compositing.js"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="m.camera.html" title="m.camera.js"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Contents</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">API Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="m-codegen-js">
<h1>m.codegen.js<a class="headerlink" href="#m-codegen-js" title="Permalink to this headline">¶</a></h1>
<p>This part of the module defines functionality for code generation, and
is intended for internal use only.</p>
<div class="section" id="please-format-invocation">
<h2>please.format_invocation<a class="headerlink" href="#please-format-invocation" title="Permalink to this headline">¶</a></h2>
<p><em>please.format_invocation</em> <strong>(method, arg1, arg2, etc)</strong></p>
<p>Returns a string containing what is hopefully valid JS source code for
calling the specified method with hardcoded arguments.</p>
<p>If the method string is equal to &#8220;=&#8221;, then the invocation will be
formatted as an assignment statement, and exactly two arguments will be
expected.</p>
</div>
<div class="section" id="please-jsir">
<h2>please.JSIR<a class="headerlink" href="#please-jsir" title="Permalink to this headline">¶</a></h2>
<p><em>please.JSIR</em> <strong>(method_name, arg1, arg2, etc)</strong></p>
<p>Constructor. Arguments are similar to &#8216;please.format_invocation&#8217; -
first is the string for the method invocation this wraps, and the
remaining params represent the arguments to said wrapped method.</p>
<p>Where this differs is, arguments can be functions or just null. They can
be changed on the fly.</p>
<p>Call the &#8216;compile&#8217; method with a cache object to produce the final
output.</p>
<p>To mark a particular argument as being a non-static value, precede it by
a &#8216;&#64;&#8217; like in the example below.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">ir</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">please</span><span class="p">.</span><span class="nx">JSIR</span><span class="p">(</span><span class="s2">&quot;alert&quot;</span><span class="p">,</span> <span class="s1">&#39;@&#39;</span><span class="p">,</span> <span class="s2">&quot;hello world!&quot;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">cache</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">generated</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Function</span><span class="p">(</span><span class="nx">ir</span><span class="p">.</span><span class="nx">compile</span><span class="p">(</span><span class="nx">cache</span><span class="p">)).</span><span class="nx">bind</span><span class="p">(</span><span class="nx">cache</span><span class="p">);</span>
<span class="nx">generated</span><span class="p">();</span>
<span class="nx">cache</span><span class="p">[</span><span class="nx">ir</span><span class="p">.</span><span class="nx">params</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">id</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;haaax&quot;</span>
<span class="nx">generated</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="please-drawable-ir">
<h2>please.__drawable_ir<a class="headerlink" href="#please-drawable-ir" title="Permalink to this headline">¶</a></h2>
<p>*please.<a href="#id1"><span class="problematic" id="id2">**</span></a>drawable_ir* <a href="#id3"><span class="problematic" id="id4">**</span></a>(prog, vbo, ibo, ranges, defaults,
graph_node)__</p>
<p>Creates a list of IR objects needed to render a partical VBO/IBO of
data. The only required params are &#8216;prog&#8217; and &#8216;vbo&#8217;.</p>
<ul class="simple">
<li><strong>prog</strong> a compiled shader program object</li>
<li><strong>vbo</strong> a vbo object, as defined in m.gl.buffers.js</li>
<li><strong>ibo</strong> an ibo object, as defined in m.gl.buffers.js</li>
<li><strong>ranges</strong> is a list of two element lists. The values represent
ranges to be passed into the draw calls. The first value is the
starting vertex or face, the second value is the total number of
vertices or faces to draw. If ommitted, it will default to [[null,
null]], which will draw the entire buffer.</li>
<li><strong>defaults</strong> a key-value store for the default uniform values</li>
<li><strong>graph_node</strong> a graph node object to optionally data bind against</li>
</ul>
<p>This method returns a list of strings and IR objects that can be used to
generate a function.</p>
</div>
<div class="section" id="please-compile-ir">
<h2>please.__compile_ir<a class="headerlink" href="#please-compile-ir" title="Permalink to this headline">¶</a></h2>
<p>*please.<a href="#id5"><span class="problematic" id="id6">**</span></a>compile_ir* <a href="#id7"><span class="problematic" id="id8">**</span></a>(ir_tokens, cache)__</p>
<p>Takes a list of IR tokens and strings and generates a function from
them.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">m.codegen.js</a><ul>
<li><a class="reference internal" href="#please-format-invocation">please.format_invocation</a></li>
<li><a class="reference internal" href="#please-jsir">please.JSIR</a></li>
<li><a class="reference internal" href="#please-drawable-ir">please.__drawable_ir</a></li>
<li><a class="reference internal" href="#please-compile-ir">please.__compile_ir</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="m.camera.html"
                        title="previous chapter">m.camera.js</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="m.compositing.html"
                        title="next chapter">m.compositing.js</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/api_reference/m.codegen.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="m.compositing.html" title="m.compositing.js"
             >next</a> |</li>
        <li class="right" >
          <a href="m.camera.html" title="m.camera.js"
             >previous</a> |</li>
        <li><a href="../index.html">Contents</a> &raquo;</li>
          <li><a href="index.html" >API Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>